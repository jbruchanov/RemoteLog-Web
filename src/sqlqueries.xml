<?xml version="1.0" encoding="utf-8"?>
<SQLQueries>
	<Query name="CREATE_TABLES" type="SQL">
	<![CDATA[
		drop table if exists Devices
    	drop table if exists LogItems

	    create table Devices (
	        DevUUID varchar(255) not null,
	        Brand varchar(255),
	        Description varchar(255),
	        Detail varchar(255),
	        Model varchar(255),
	        OSDescription varchar(255),
	        Owner varchar(255),
	        Platform varchar(255) not null,
	        PushID varchar(255),
	        Resolution varchar(255),
	        Version varchar(255),
	        primary key (DevUUID)
	    )

	    create table LogItems (
	        ID integer not null auto_increment,
	        AppBuild varchar(255),
	        AppVersion varchar(255),
	        Application varchar(255) not null,
	        Data tinyblob,
	        DataType varchar(255),
	        Category varchar(255),
	        Date datetime not null,
	        mDeviceId varchar(255),
	        Message varchar(255),
	        Platform varchar(255) not null,
	        primary key (ID)
	    )		   
	]]>
	</Query>
	<Query name="SELECT_APPS" type="SQL">
	<![CDATA[
		SELECT DISTINCT Application FROM LogItems ORDER BY Application;
	]]>
	</Query>
	<Query name="SELECT_DEVS" type="SQL">
	<![CDATA[
		SELECT * FROM Devices;
	]]>
	</Query>
	<Query name="SELECT_DEVS_BY_APP" type="SQL" parameters="Application">
	<![CDATA[
		Select * FROM Devices WHERE DeviceID IN( 
			SELECT Devices.DeviceID FROM Devices INNER JOIN LogItems 
			ON Devices.DeviceID = LogItems.DeviceID 
			WHERE Application = :Application)
	]]>
	</Query>
	<Query name="SELECT_LOGS" type="SQL">
	<![CDATA[
		SELECT * FROM LogItems;
	]]>
	</Query>
	<Query name="SELECT_LOGS_BY_APP" type="SQL" parameters="Application">
	<![CDATA[
		Select * FROM LogItems WHERE Application = :Application;
	]]>
	</Query>
	<Query name="SELECT_PLATFORMS" type="SQL">
	<![CDATA[
		SELECT DISTINCT Platform FROM LogItems INNER JOIN 
		Devices ON Devices.DeviceID = LogItems.DeviceID 
		ORDER BY Platform;
	]]>
	</Query>
	<Query name="SELECT_PLATFORMS_BY_APPNAME" type="SQL" parameters="Application">
	<![CDATA[
		SELECT DISTINCT Platform FROM LogItems INNER JOIN 
		Devices ON Devices.DeviceID = LogItems.DeviceID
		WHERE Application = :Application 
		ORDER BY Platform; 
	]]>
	</Query>
	<Query name="SELECT_BRANDS" type="SQL">
	<![CDATA[
		SELECT DISTINCT Brand FROM LogItems INNER JOIN 
		Devices ON Devices.DeviceID = LogItems.DeviceID 
		ORDER BY Brand;
	]]>
	</Query>
	<Query name="SELECT_BRANDS_BY_APPNAME" type="SQL" parameters="Application">
	<![CDATA[
		SELECT DISTINCT Brand FROM LogItems INNER JOIN 
		Devices ON Devices.DeviceID = LogItems.DeviceID
		WHERE Application = :Application 
		ORDER BY Brand; 
	]]>
	</Query>
	<Query name="SELECT_MODELS" type="SQL">
	<![CDATA[
		SELECT DISTINCT Model FROM LogItems INNER JOIN 
		Devices ON Devices.DeviceID = LogItems.DeviceID 
		ORDER BY Model;
	]]>
	</Query>
	<Query name="SELECT_MODELS_BY_APPNAME" type="SQL" parameters="Application">
	<![CDATA[
		SELECT DISTINCT Model FROM LogItems INNER JOIN 
		Devices ON Devices.DeviceID = LogItems.DeviceID
		WHERE Application = :Application 
		ORDER BY Model; 
	]]>
	</Query>
	<Query name="SELECT_RESOLUTIONS" type="SQL">
	<![CDATA[
		SELECT DISTINCT Resolution FROM LogItems INNER JOIN 
		Devices ON Devices.DeviceID = LogItems.DeviceID 
		ORDER BY Resolution;
	]]>
	</Query>
	<Query name="SELECT_RESOLUTIONS_BY_APPNAME" type="SQL"
		parameters="Application">
	<![CDATA[
		SELECT DISTINCT Resolution FROM LogItems INNER JOIN 
		Devices ON Devices.DeviceID = LogItems.DeviceID
		WHERE Application = :Application 
		ORDER BY Resolution; 
	]]>
	</Query>
	<Query name="SELECT_DATATYPES" type="SQL">
	<![CDATA[
		SELECT DISTINCT BlobMime FROM LogItems 
		ORDER BY BlobMime;
	]]>
	</Query>
	<Query name="SELECT_DATATYPES_BY_APPNAME" type="SQL" parameters="Application">
	<![CDATA[
		SELECT DISTINCT BlobMime FROM LogItems 
		WHERE Application = :Application 
		ORDER BY BlobMime; 
	]]>
	</Query>
	<Query name="SELECT_CATEGORIES" type="SQL">
	<![CDATA[
		SELECT DISTINCT Category FROM LogItems 
		ORDER BY Category;
	]]>
	</Query>
	<Query name="SELECT_CATEGORIES_BY_APPNAME" type="SQL" parameters="Application">
	<![CDATA[
		SELECT DISTINCT Category FROM LogItems 
		WHERE Application = :Application 
		ORDER BY Category; 
	]]>
	</Query>
</SQLQueries>